{"version":3,"sources":["component/Modal/modal.module.css","component/Button/button.module.css","component/Loader/loader.module.css","component/Searchbar/Searchbar.jsx","component/ImageGalleryItem/ImageGalleryItem.jsx","component/Button/Button.jsx","component/Loader/loader.js","component/Modal/Modal.js","component/ImageGallery/ImageCallery.js","App.js","index.js","component/Searchbar/searchbar.module.css"],"names":["module","exports","Searchbar","state","tagsName","hendleNameChange","event","setState","currentTarget","value","toLowerCase","hendleSubmit","preventDefault","trim","props","onSubmit","alert","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","onClick","map","image","src","webformatURL","data-sourse","largeImageURL","alt","tags","id","Button","button","data-action","LoaderApp","loader","color","height","width","React","modalRoot","document","querySelector","Modal","window","addEventListener","e","code","onClose","removeEventListener","console","log","createPortal","Overlay","ImageCallery","loading","error","page","showModal","fetchImagesApi","fetch","then","response","ok","json","Promise","reject","Error","hits","catch","finally","fetchImages","prevState","onScrollTo","toggleModalCloseOpen","target","dataset","sourse","prevProps","body","scrollHeight","setTimeout","scrollTo","top","left","behavior","message","length","App","hendleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b7674b42.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2uzbU\",\"Modal\":\"modal_Modal__3hJ4w\",\"text\":\"modal_text__2dnvu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__1mxrR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__Sz5Hy\"};","import { Component } from \"react\";\r\nimport styles from \"./searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    tagsName: \" \",\r\n  };\r\n  //получаем значение в стейт\r\n  hendleNameChange = (event) => {\r\n    this.setState({ tagsName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  //записиваем значение в стейт\r\n  hendleSubmit = (event) => {\r\n    event.preventDefault();\r\n    //проверка что не пустая строка\r\n    if (this.state.tagsName.trim() === \"\") {\r\n      alert(\"Введите даные для поиска\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.tagsName);\r\n    //очистка поля после сабмита\r\n    this.setState({ tagsName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.hendleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.tagsName}\r\n            onChange={this.hendleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n//import styles from \"./imageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ images, onClick }) {\r\n  return (\r\n    <>\r\n      {images.map((image) => (\r\n        <li key={image.id}>\r\n          <img\r\n            onClick={onClick}\r\n            src={image.webformatURL}\r\n            data-sourse={image.largeImageURL}\r\n            alt={image.tags}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import styles from \"./button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={styles.button}\r\n      data-action=\"load-more\"\r\n      onClick={onClick}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport Loader from 'react-loader-spinner'\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css'\r\nimport styles from './loader.module.css'\r\n\r\nexport default class LoaderApp extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.loader}>\r\n        <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\r\n      </div>\r\n    )\r\n  }\r\n}","import  { Component } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport styles from './modal.module.css'\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', (e) => {\r\n      if (e.code === 'Escape') {\r\n        this.props.onClose(e)\r\n      }\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', (e) => {\r\n      console.log(e.code)\r\n      if (e.code === 'Escape') {\r\n        this.props.onClose(e)\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.largeImageURL} alt=\"\"  width='100%'/>\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    )\r\n  }\r\n}\r\n","import { Component } from 'react'\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\nimport Button from '../Button/Button'\r\nimport LoaderApp from '../Loader/loader'\r\nimport Modal from '../Modal/Modal'\r\n\r\nexport default class ImageCallery extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    error: null,\r\n    page: 1,\r\n    largeImageURL: null,\r\n    showModal: false,\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.tagsName !== this.props.tagsName) {\r\n      // console.log('изменилось имя ')\r\n      // console.log('prevProps.tagsName:', prevProps.tagsName)\r\n      //console.log('this.props.tagsName:', this.props.tagsName)\r\n      this.setState({ loading: true, images: [] })\r\n      this.fetchImagesApi()\r\n    }\r\n  }\r\n\r\n  fetchImagesApi = () => {\r\n    const API_KEY = '19244879-147a84bd8a529ac8c96d916bd'\r\n\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${this.props.tagsName}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json()\r\n        }\r\n        return Promise.reject(\r\n          new Error(\r\n            `Картинки с даным названием ${this.state.tagsName}не найдено`,\r\n          ),\r\n        )\r\n      })\r\n      .then((images) =>\r\n        this.setState({ images: [...images.hits], page: this.state.page + 1 }),\r\n      )\r\n\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const API_KEY = '19244879-147a84bd8a529ac8c96d916bd'\r\n\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${this.props.tagsName}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json()\r\n        }\r\n        return Promise.reject(\r\n          new Error(\r\n            `Картинки с даным названием ${this.state.tagsName}не найдено`,\r\n          ),\r\n        )\r\n      })\r\n\r\n      .then(\r\n        (images) =>\r\n          this.setState((prevState) => ({\r\n            images: [...prevState.images, ...images.hits],\r\n            page: prevState.page + 1,\r\n          })),\r\n        this.onScrollTo(),\r\n      ) //-\r\n\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  onScrollTo() {\r\n    let value = document.body.scrollHeight\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: value,\r\n        left: 0,\r\n        behavior: 'smooth',\r\n      })\r\n    }, 1000)\r\n  }\r\n\r\n  //------------------MODAL---------------------\r\n\r\n  toggleModalCloseOpen = (e) => {\r\n    const largeImageURL = e.target.dataset.sourse\r\n    this.setState((state) => ({ showModal: !state.showModal, largeImageURL }))\r\n  }\r\n\r\n  render() {\r\n    const { error, images, loading } = this.state\r\n    return (\r\n      <div>\r\n        <ul className=\"ImageGallery\">\r\n          {error && <h1>{error.message}</h1>}\r\n\r\n          <ImageGalleryItem\r\n            images={this.state.images}\r\n            key={this.state.images.id}\r\n            onClick={this.toggleModalCloseOpen}\r\n          />\r\n        </ul>\r\n\r\n        {loading && <LoaderApp />}\r\n        {images.length > 0 && !loading && <Button onClick={this.fetchImages} />}\r\n\r\n        {this.state.showModal && (\r\n          <Modal\r\n            onClose={this.toggleModalCloseOpen}\r\n            largeImageURL={this.state.largeImageURL}\r\n          ></Modal>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from './component/Searchbar/Searchbar';\nimport ImageCallery from './component/ImageGallery/ImageCallery'\n\n\n\nexport default class App extends Component {\n  state = {\n    tagsName: ' ', \n    images: [] \n  }\n\n  //метод который получает проп{tags} от searchbar и записывает в стейт\n  hendleFormSubmit = (tagsName) => {\n    console.log(tagsName)\n    this.setState({ tagsName })\n  }\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.hendleFormSubmit} />\n\n        <ImageCallery tagsName={this.state.tagsName} />\n      </div>\n    )\n  }\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);  \n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__3uEwR\",\"SearchForm\":\"searchbar_SearchForm__2sUE6\",\"SearchFormButton\":\"searchbar_SearchFormButton__36wVE\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__3K7Oo\",\"SearchFormInput\":\"searchbar_SearchFormInput__1QRjQ\"};"],"sourceRoot":""}